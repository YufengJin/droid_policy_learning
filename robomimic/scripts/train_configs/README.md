# Train configs for RLDS (Hydra)

This directory holds Hydra configs used by `train_rlds.py` for RLDS (droid_rlds) training.

## Files

- **`train_rlds.yaml`** – Default config for `train_rlds.py` (diffusion_policy + droid_rlds).

## Usage with `train_rlds.py`

```bash
# From repo root
python -m robomimic.scripts.train_rlds

# Override from CLI
python -m robomimic.scripts.train_rlds train.data_path=/workspace/dataset \
    train.dataset_names=[role_ros2] experiment.name=my_exp

# Use a JSON generated by config_gen
python -m robomimic.scripts.train_rlds load_from=/path/to/generated.json

# Debug (short run)
python -m robomimic.scripts.train_rlds debug=true
```

## Workflow with `droid_runs_language_conditioned_rlds`

1. **Generate configs** (writes JSONs and a run script):

   ```bash
   python -m robomimic.scripts.config_gen.droid_runs_language_conditioned_rlds \
       --name my_run --env droid --mod im
   ```

   The generator writes JSONs under its `generated_config_dir` (or `json/` next to `--script`).

   To write into `train_configs/json/` and a `run_rlds.sh` in this folder:

   ```bash
   python -m robomimic.scripts.config_gen.droid_runs_language_conditioned_rlds \
       --name my_run --env droid --mod im \
       --script robomimic/scripts/train_configs/run_rlds.sh
   ```

2. **Train with a generated JSON**

   - via **train_rlds** (Hydra):
     ```bash
     python -m robomimic.scripts.train_rlds load_from=/path/to/<exp_name>.json
     ```
   - or via **train.py** (legacy):
     ```bash
     python -m robomimic.scripts.train --config /path/to/<exp_name>.json
     ```

3. **Optional**: point config_gen’s output into this tree, e.g. `--script train_configs/run_rlds.sh`, so JSONs go to `train_configs/json/` and you can use:

   ```bash
   python -m robomimic.scripts.train_rlds load_from=train_configs/json/<exp_name>.json
   ```

## Overrides

- **`load_from`** (str): path to a JSON from config_gen; if set, it replaces the Hydra defaults.
- **`debug`** (bool): `true` for a short debug run (few steps/epochs, `/tmp` output).

All other keys (e.g. `train.data_path`, `train.dataset_names`, `experiment.name`) follow the structure of `train_rlds.yaml` and can be overridden from the CLI.
